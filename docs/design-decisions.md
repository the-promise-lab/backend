# 설계 의도 및 제약사항

## 목표

- 게임 기반 재난안전교육 플랫폼에 필요한 백엔드 API를 안정적으로 제공한다.
- 운영 환경에서 예측 가능한 장애 대응과 모니터링이 가능해야 한다.

## 핵심 제약사항

- 운영 DB는 외부 접근이 제한되어 로컬 개발은 SSH 터널링을 전제로 한다.
- 인증은 Kakao OAuth를 사용해야 한다.
- 운영 배포는 Kakao Cloud + KCR 기반으로 진행한다.

## 주요 설계 결정

- **NestJS + TypeScript**: 모듈화와 데코레이터 기반 구조로 확장성을 확보.
- **Prisma + MySQL**: 스키마 기반 마이그레이션과 타입 안정성 확보.
- **세션 저장소**: `express-session` + MySQL 세션 테이블 사용.
- **JWT + Kakao OAuth**: 외부 로그인과 API 접근 제어를 분리.
- **Infisical**: 운영/개발 시크릿 관리의 단일 소스.
- **Sentry**: 에러 추적 및 프로파일링.
- **Kakao Object Storage**: S3 호환 스토리지로 게임 리소스 제공.

## 운영 의도

- Swagger는 로컬에서만 무인증으로 사용하고, 운영에서는 Basic Auth로 보호한다.
- CI에서 Docker 이미지 빌드 후 CD에서 블루/그린 배포로 무중단 전환한다.
